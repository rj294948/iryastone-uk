<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Marble Stone - StoneCraft UK</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== GLOBAL STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .section-title {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #b8860b;
            display: inline-block;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #b8860b;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }
        
        .btn:hover {
            background: #a3780a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(184, 134, 11, 0.3);
        }
        
        .btn-secondary {
            background: #333;
        }
        
        .btn-secondary:hover {
            background: #222;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid #b8860b;
            color: #b8860b;
        }
        
        .btn-outline:hover {
            background: #b8860b;
            color: white;
        }
        
        /* ===== PRODUCT PAGE LAYOUT ===== */
        .product-page {
            padding: 40px 0 80px;
        }
        
        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
        }
        
        /* ===== PRODUCT IMAGE SECTION ===== */
        .product-image-section {
            position: relative;
        }
        
        /* Main Image Container */
        .main-image-container {
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
            border-radius: 10px;
            background: #fff;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: zoom-in;
            margin-bottom: 15px;
        }
        
        #mainProductImage {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        /* Lens Zoom Effect */
        .zoom-lens {
            position: absolute;
            border: 1px solid #b8860b;
            background: rgba(184, 134, 11, 0.1);
            cursor: none;
            display: none;
            z-index: 10;
        }
        
        .zoom-result {
            position: absolute;
            top: 0;
            right: -105%;
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            display: none;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 20;
        }
        
        .zoom-result-img {
            width: 200%;
            height: 200%;
            object-fit: cover;
            object-position: 0 0;
        }
        
        /* Fullscreen Lightbox */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .lightbox.active {
            opacity: 1;
            visibility: visible;
        }
        
        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }
        
        .lightbox-img {
            width: 100%;
            height: auto;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 5px;
        }
        
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: -10px;
            background: none;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .lightbox-close:hover {
            color: #b8860b;
        }
        
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
        }
        
        .lightbox-nav:hover {
            background: #b8860b;
        }
        
        .lightbox-prev {
            left: 20px;
        }
        
        .lightbox-next {
            right: 20px;
        }
        
        /* Thumbnail Strip */
        .thumbnail-strip {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            scrollbar-width: thin;
        }
        
        .thumbnail-strip::-webkit-scrollbar {
            height: 6px;
        }
        
        .thumbnail-strip::-webkit-scrollbar-thumb {
            background: #b8860b;
            border-radius: 3px;
        }
        
        .thumbnail-item {
            flex: 0 0 auto;
            width: 80px;
            height: 80px;
            border-radius: 5px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .thumbnail-item:hover {
            border-color: #b8860b;
            transform: translateY(-3px);
        }
        
        .thumbnail-item.active {
            border-color: #b8860b;
            box-shadow: 0 3px 10px rgba(184, 134, 11, 0.3);
        }
        
        .thumbnail-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* ===== PRODUCT DETAILS SECTION ===== */
        .product-details-section {
            padding: 20px 0;
        }
        
        .product-title {
            font-size: 32px;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .product-price {
            font-size: 28px;
            color: #b8860b;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .product-price span {
            font-size: 16px;
            color: #666;
            font-weight: normal;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .stars {
            color: #ffc107;
            margin-right: 10px;
        }
        
        .rating-count {
            color: #666;
            font-size: 14px;
        }
        
        .product-description {
            margin-bottom: 30px;
            color: #555;
            line-height: 1.6;
        }
        
        /* Product Options */
        .product-options {
            margin-bottom: 30px;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        
        .option-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .option-item {
            padding: 8px 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option-item:hover {
            border-color: #b8860b;
        }
        
        .option-item.selected {
            border-color: #b8860b;
            background: rgba(184, 134, 11, 0.1);
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: relative;
        }
        
        .color-option.selected::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            text-shadow: 0 0 2px rgba(0,0,0,0.5);
        }
        
        /* Specifications Table */
        .specifications {
            margin-bottom: 30px;
        }
        
        .spec-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .spec-table tr {
            border-bottom: 1px solid #eee;
        }
        
        .spec-table tr:last-child {
            border-bottom: none;
        }
        
        .spec-table td {
            padding: 12px 15px;
        }
        
        .spec-table td:first-child {
            font-weight: 600;
            width: 40%;
            background: #f9f9f9;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .action-buttons .btn {
            flex: 1;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .quantity-label {
            margin-right: 15px;
            font-weight: 600;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            background: #f8f9fa;
            border: none;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .quantity-btn:hover {
            background: #e9ecef;
        }
        
        .quantity-input {
            width: 60px;
            height: 40px;
            border: none;
            text-align: center;
            font-size: 16px;
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
        }
        
        /* ===== RELATED PRODUCTS SECTION ===== */
        .related-products-section {
            padding: 40px 0;
        }
        
        .related-products-container {
            position: relative;
        }
        
        .related-products-slider {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 20px 10px;
            scrollbar-width: none; /* Firefox */
        }
        
        .related-products-slider::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Edge */
        }
        
        .related-product-card {
            flex: 0 0 auto;
            width: 250px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .related-product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .related-product-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .related-product-info {
            padding: 15px;
        }
        
        .related-product-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        
        .related-product-price {
            color: #b8860b;
            font-weight: 700;
            font-size: 18px;
        }
        
        .slider-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .slider-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 2px solid #b8860b;
            color: #b8860b;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            transition: all 0.3s;
        }
        
        .slider-btn:hover {
            background: #b8860b;
            color: white;
        }
        
        .slider-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .slider-btn:disabled:hover {
            background: white;
            color: #b8860b;
        }
        
        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 992px) {
            .product-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .main-image-container {
                height: 400px;
            }
            
            .product-title {
                font-size: 28px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
        
        @media (max-width: 768px) {
            .product-page {
                padding: 20px 0 50px;
            }
            
            .main-image-container {
                height: 350px;
            }
            
            .product-title {
                font-size: 24px;
            }
            
            .product-price {
                font-size: 24px;
            }
            
            .related-product-card {
                width: 200px;
            }
            
            .related-product-img {
                height: 150px;
            }
            
            .lightbox-nav {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
        
        @media (max-width: 576px) {
            .main-image-container {
                height: 300px;
            }
            
            .thumbnail-item {
                width: 60px;
                height: 60px;
            }
            
            .option-list {
                gap: 8px;
            }
            
            .option-item {
                padding: 6px 12px;
                font-size: 14px;
            }
            
            .color-option {
                width: 35px;
                height: 35px;
            }
            
            .spec-table td {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .related-product-card {
                width: 180px;
            }
            
            .related-product-img {
                height: 130px;
            }
        }
        
        @media (max-width: 480px) {
            .main-image-container {
                height: 250px;
            }
            
            .action-buttons .btn {
                padding: 10px 16px;
                font-size: 14px;
            }
            
            .quantity-btn, .quantity-input {
                height: 35px;
            }
            
            .quantity-btn {
                width: 35px;
            }
            
            .related-product-card {
                width: 160px;
            }
        }
        
        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* ===== UTILITY CLASSES ===== */
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .mb-30 {
            margin-bottom: 30px;
        }
        
        .mb-40 {
            margin-bottom: 40px;
        }
    </style>
</head>
<body>
    <!-- ===== PRODUCT PAGE ===== -->
    <div class="product-page">
        <div class="container">
            <!-- Product Main Layout -->
            <div class="product-container">
                <!-- Left: Product Images -->
                <div class="product-image-section">
                    <!-- Main Image with Zoom -->
                    <div class="main-image-container" id="mainImageContainer">
                        <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" 
                             alt="Premium Marble Stone" 
                             id="mainProductImage">
                        <div class="zoom-lens" id="zoomLens"></div>
                        <div class="zoom-result" id="zoomResult">
                            <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80" 
                                 alt="Zoomed View" 
                                 class="zoom-result-img" 
                                 id="zoomResultImg">
                        </div>
                    </div>
                    
                    <!-- Thumbnail Strip -->
                    <div class="thumbnail-strip" id="thumbnailStrip">
                        <!-- Thumbnails will be dynamically added here -->
                    </div>
                </div>
                
                <!-- Right: Product Details -->
                <div class="product-details-section">
                    <h1 class="product-title">Premium White Marble Stone</h1>
                    
                    <div class="product-price">
                        Â£125.50 <span>per sq. ft.</span>
                    </div>
                    
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <div class="rating-count">(4.5/5 from 128 reviews)</div>
                    </div>
                    
                    <p class="product-description">
                        This premium white marble features elegant gray veining that adds sophistication to any space. 
                        Sourced from the finest quarries, it offers exceptional durability and a luxurious finish. 
                        Perfect for flooring, countertops, wall cladding, and decorative features in both residential 
                        and commercial projects.
                    </p>
                    
                    <!-- Product Options -->
                    <div class="product-options">
                        <!-- Size Options -->
                        <div class="option-group">
                            <div class="option-title">Size</div>
                            <div class="option-list" id="sizeOptions">
                                <!-- Options will be dynamically added -->
                            </div>
                        </div>
                        
                        <!-- Color Options -->
                        <div class="option-group">
                            <div class="option-title">Color Variation</div>
                            <div class="option-list" id="colorOptions">
                                <!-- Options will be dynamically added -->
                            </div>
                        </div>
                        
                        <!-- Finish Options -->
                        <div class="option-group">
                            <div class="option-title">Finish</div>
                            <div class="option-list" id="finishOptions">
                                <!-- Options will be dynamically added -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quantity Selector -->
                    <div class="quantity-selector">
                        <div class="quantity-label">Quantity:</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" id="quantityDecrease">-</button>
                            <input type="number" class="quantity-input" id="quantityInput" value="1" min="1" max="100">
                            <button class="quantity-btn" id="quantityIncrease">+</button>
                        </div>
                        <div style="margin-left: auto; font-weight: 600;">
                            Total: Â£<span id="totalPrice">125.50</span>
                        </div>
                    </div>
                    
                    <!-- Specifications Table -->
                    <div class="specifications">
                        <h3 class="section-title">Specifications</h3>
                        <table class="spec-table">
                            <tbody id="specificationsTable">
                                <!-- Specifications will be dynamically added -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn" id="addToCartBtn">
                            <i class="fas fa-shopping-cart"></i> Add to Cart
                        </button>
                        <button class="btn btn-secondary" id="buyNowBtn">
                            <i class="fas fa-bolt"></i> Buy Now
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Related Products Section -->
            <div class="related-products-section">
                <h2 class="section-title text-center">Related Products</h2>
                <div class="related-products-container">
                    <div class="related-products-slider" id="relatedProductsSlider">
                        <!-- Related products will be dynamically added -->
                    </div>
                    <div class="slider-controls">
                        <button class="slider-btn" id="sliderPrevBtn" aria-label="Previous">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="slider-btn" id="sliderNextBtn" aria-label="Next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Lightbox for Fullscreen Images -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" id="lightboxClose">
            <i class="fas fa-times"></i>
        </button>
        <button class="lightbox-nav lightbox-prev" id="lightboxPrev">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="lightbox-nav lightbox-next" id="lightboxNext">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="lightbox-content">
            <img src="" alt="" class="lightbox-img" id="lightboxImg">
        </div>
    </div>

    <script>
        // ===== PRODUCT DATA =====
        const productData = {
            id: 1,
            name: "Premium White Marble Stone",
            price: 125.50,
            currency: "Â£",
            unit: "per sq. ft.",
            description: "This premium white marble features elegant gray veining that adds sophistication to any space. Sourced from the finest quarries, it offers exceptional durability and a luxurious finish.",
            rating: 4.5,
            reviewCount: 128,
            images: [
                {
                    thumb: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80",
                    main: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
                    zoom: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80"
                },
                {
                    thumb: "https://images.unsplash.com/photo-1559661184-5b7a5200d1f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80",
                    main: "https://images.unsplash.com/photo-1559661184-5b7a5200d1f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
                    zoom: "https://images.unsplash.com/photo-1559661184-5b7a5200d1f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80"
                },
                {
                    thumb: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=60&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8fHw%3D",
                    main: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=60&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8fHw%3D",
                    zoom: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=60&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8fHw%3D"
                },
                {
                    thumb: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80",
                    main: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
                    zoom: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80"
                },
                {
                    thumb: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=60",
                    main: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=60",
                    zoom: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=60"
                }
            ],
            sizes: [
                { id: 1, name: "12x12 inches", value: "12x12" },
                { id: 2, name: "12x24 inches", value: "12x24" },
                { id: 3, name: "24x24 inches", value: "24x24" },
                { id: 4, name: "Custom Size", value: "custom" }
            ],
            colors: [
                { id: 1, name: "Pure White", value: "#FFFFFF", hex: "#FFFFFF" },
                { id: 2, name: "Gray Veined", value: "#F5F5F5", hex: "#F5F5F5" },
                { id: 3, name: "Carrara White", value: "#F0F0F0", hex: "#F0F0F0" },
                { id: 4, name: "Calacatta Gold", value: "#FFF8E1", hex: "#FFF8E1" }
            ],
            finishes: [
                { id: 1, name: "Polished", value: "polished" },
                { id: 2, name: "Honed", value: "honed" },
                { id: 3, name: "Brushed", value: "brushed" },
                { id: 4, name: "Leathered", value: "leathered" }
            ],
            specifications: [
                { key: "Material", value: "Natural Marble" },
                { key: "Thickness", value: "20mm (3/4\")" },
                { key: "Water Absorption", value: "< 0.5%" },
                { key: "Compressive Strength", value: "115 MPa" },
                { key: "Density", value: "2.7 g/cmÂ³" },
                { key: "Hardness", value: "3-4 Mohs Scale" },
                { key: "Finish", value: "Polished, Honed, Brushed" },
                { key: "Origin", value: "Italy" },
                { key: "Usage", value: "Flooring, Countertops, Wall Cladding" }
            ],
            relatedProducts: [
                {
                    id: 2,
                    name: "Black Galaxy Granite",
                    price: 89.99,
                    image: "https://images.unsplash.com/photo-1595428774223-ef52624120d2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                },
                {
                    id: 3,
                    name: "Travertine Beige Stone",
                    price: 75.50,
                    image: "https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w-400&q=80",
                    link: "#"
                },
                {
                    id: 4,
                    name: "Sandstone Pavers",
                    price: 45.25,
                    image: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                },
                {
                    id: 5,
                    name: "Quartzite Countertop",
                    price: 135.00,
                    image: "https://images.unsplash.com/photo-1592925300427-f58aa8f5b5ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                },
                {
                    id: 6,
                    name: "Slate Floor Tiles",
                    price: 68.75,
                    image: "https://images.unsplash.com/photo-1618219908414-83a8d8d7b0c6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                },
                {
                    id: 7,
                    name: "Limestone Wall Cladding",
                    price: 55.40,
                    image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                },
                {
                    id: 8,
                    name: "Onyx Backlit Panel",
                    price: 225.00,
                    image: "https://images.unsplash.com/photo-1583845112205-8fda7c6f7c70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80",
                    link: "#"
                }
            ]
        };

        // ===== GLOBAL VARIABLES =====
        let currentImageIndex = 0;
        let selectedSize = null;
        let selectedColor = null;
        let selectedFinish = null;
        let quantity = 1;

        // ===== DOM ELEMENTS =====
        const mainProductImage = document.getElementById('mainProductImage');
        const mainImageContainer = document.getElementById('mainImageContainer');
        const zoomLens = document.getElementById('zoomLens');
        const zoomResult = document.getElementById('zoomResult');
        const zoomResultImg = document.getElementById('zoomResultImg');
        const thumbnailStrip = document.getElementById('thumbnailStrip');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightboxImg');
        const lightboxClose = document.getElementById('lightboxClose');
        const lightboxPrev = document.getElementById('lightboxPrev');
        const lightboxNext = document.getElementById('lightboxNext');
        const sizeOptions = document.getElementById('sizeOptions');
        const colorOptions = document.getElementById('colorOptions');
        const finishOptions = document.getElementById('finishOptions');
        const specificationsTable = document.getElementById('specificationsTable');
        const quantityInput = document.getElementById('quantityInput');
        const quantityDecrease = document.getElementById('quantityDecrease');
        const quantityIncrease = document.getElementById('quantityIncrease');
        const totalPrice = document.getElementById('totalPrice');
        const addToCartBtn = document.getElementById('addToCartBtn');
        const buyNowBtn = document.getElementById('buyNowBtn');
        const relatedProductsSlider = document.getElementById('relatedProductsSlider');
        const sliderPrevBtn = document.getElementById('sliderPrevBtn');
        const sliderNextBtn = document.getElementById('sliderNextBtn');

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸš€ Initializing Product Page...');
            
            initializeProductPage();
            initializeImageZoom();
            initializeLightbox();
            initializeProductOptions();
            initializeQuantityControls();
            initializeRelatedProducts();
            
            console.log('âœ… Product Page initialized successfully!');
        });

        // ===== PRODUCT PAGE INITIALIZATION =====
        function initializeProductPage() {
            // Set initial product image
            updateMainImage(0);
            
            // Create thumbnail strip
            createThumbnailStrip();
            
            // Create product options
            createSizeOptions();
            createColorOptions();
            createFinishOptions();
            
            // Create specifications table
            createSpecificationsTable();
            
            // Update total price
            updateTotalPrice();
        }

        // ===== IMAGE THUMBNAIL FUNCTIONS =====
        function createThumbnailStrip() {
            thumbnailStrip.innerHTML = '';
            
            productData.images.forEach((image, index) => {
                const thumbnailItem = document.createElement('div');
                thumbnailItem.className = 'thumbnail-item';
                if (index === 0) thumbnailItem.classList.add('active');
                
                thumbnailItem.innerHTML = `
                    <img src="${image.thumb}" alt="Thumbnail ${index + 1}" class="thumbnail-img">
                `;
                
                thumbnailItem.addEventListener('click', () => {
                    updateMainImage(index);
                    updateActiveThumbnail(index);
                });
                
                thumbnailItem.addEventListener('mouseenter', () => {
                    if (index !== currentImageIndex) {
                        mainProductImage.src = productData.images[index].main;
                    }
                });
                
                thumbnailItem.addEventListener('mouseleave', () => {
                    mainProductImage.src = productData.images[currentImageIndex].main;
                });
                
                thumbnailStrip.appendChild(thumbnailItem);
            });
        }

        function updateMainImage(index) {
            currentImageIndex = index;
            mainProductImage.src = productData.images[index].main;
            zoomResultImg.src = productData.images[index].zoom;
            
            // Add fade-in animation
            mainProductImage.classList.add('fade-in');
            setTimeout(() => {
                mainProductImage.classList.remove('fade-in');
            }, 500);
        }

        function updateActiveThumbnail(index) {
            const thumbnails = document.querySelectorAll('.thumbnail-item');
            thumbnails.forEach((thumb, i) => {
                if (i === index) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
            });
        }

        // ===== IMAGE ZOOM FUNCTIONALITY =====
        function initializeImageZoom() {
            if (!mainImageContainer || !zoomLens || !zoomResult) return;
            
            const zoomFactor = 2; // How much to zoom (2x)
            
            mainImageContainer.addEventListener('mousemove', moveLens);
            mainImageContainer.addEventListener('mouseenter', () => {
                zoomLens.style.display = 'block';
                zoomResult.style.display = 'block';
            });
            
            mainImageContainer.addEventListener('mouseleave', () => {
                zoomLens.style.display = 'none';
                zoomResult.style.display = 'none';
            });
            
            // Touch support for mobile
            let isZooming = false;
            mainImageContainer.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isZooming = true;
                zoomLens.style.display = 'block';
                zoomResult.style.display = 'block';
                moveLensTouch(e);
            });
            
            mainImageContainer.addEventListener('touchmove', (e) => {
                if (isZooming) {
                    e.preventDefault();
                    moveLensTouch(e);
                }
            });
            
            mainImageContainer.addEventListener('touchend', () => {
                isZooming = false;
                zoomLens.style.display = 'none';
                zoomResult.style.display = 'none';
            });
            
            function moveLens(e) {
                e.preventDefault();
                
                const containerRect = mainImageContainer.getBoundingClientRect();
                const imgRect = mainProductImage.getBoundingClientRect();
                
                // Calculate cursor position relative to image
                let x = e.clientX - imgRect.left;
                let y = e.clientY - imgRect.top;
                
                // Prevent lens from going outside image
                const lensWidth = zoomLens.offsetWidth;
                const lensHeight = zoomLens.offsetHeight;
                
                x = Math.max(lensWidth / 2, Math.min(x, imgRect.width - lensWidth / 2));
                y = Math.max(lensHeight / 2, Math.min(y, imgRect.height - lensHeight / 2));
                
                // Position the lens
                zoomLens.style.left = (x - lensWidth / 2) + 'px';
                zoomLens.style.top = (y - lensHeight / 2) + 'px';
                
                // Calculate the zoomed image position
                const resultWidth = zoomResult.offsetWidth;
                const resultHeight = zoomResult.offsetHeight;
                
                const zoomX = (x / imgRect.width) * 100;
                const zoomY = (y / imgRect.height) * 100;
                
                // Position the zoomed image
                zoomResultImg.style.objectPosition = `${zoomX}% ${zoomY}%`;
            }
            
            function moveLensTouch(e) {
                e.preventDefault();
                
                const containerRect = mainImageContainer.getBoundingClientRect();
                const imgRect = mainProductImage.getBoundingClientRect();
                
                // Get touch position
                const touch = e.touches[0];
                let x = touch.clientX - imgRect.left;
                let y = touch.clientY - imgRect.top;
                
                // Prevent lens from going outside image
                const lensWidth = zoomLens.offsetWidth;
                const lensHeight = zoomLens.offsetHeight;
                
                x = Math.max(lensWidth / 2, Math.min(x, imgRect.width - lensWidth / 2));
                y = Math.max(lensHeight / 2, Math.min(y, imgRect.height - lensHeight / 2));
                
                // Position the lens
                zoomLens.style.left = (x - lensWidth / 2) + 'px';
                zoomLens.style.top = (y - lensHeight / 2) + 'px';
                
                // Calculate the zoomed image position
                const zoomX = (x / imgRect.width) * 100;
                const zoomY = (y / imgRect.height) * 100;
                
                // Position the zoomed image
                zoomResultImg.style.objectPosition = `${zoomX}% ${zoomY}%`;
            }
            
            // Adjust lens size based on container size
            function adjustLensSize() {
                const containerWidth = mainImageContainer.offsetWidth;
                const lensSize = containerWidth / 4; // Lens is 1/4 of container width
                
                zoomLens.style.width = lensSize + 'px';
                zoomLens.style.height = lensSize + 'px';
                
                // Also adjust zoom result container
                zoomResult.style.width = lensSize * 1.5 + 'px';
                zoomResult.style.height = lensSize * 1.5 + 'px';
            }
            
            // Initial adjustment
            adjustLensSize();
            
            // Adjust on window resize
            window.addEventListener('resize', adjustLensSize);
            
            // Open lightbox on image click
            mainImageContainer.addEventListener('click', () => {
                openLightbox(currentImageIndex);
            });
        }

        // ===== LIGHTBOX FUNCTIONALITY =====
        function initializeLightbox() {
            if (!lightbox || !lightboxImg) return;
            
            // Close lightbox
            lightboxClose.addEventListener('click', closeLightbox);
            
            // Close on background click
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            
            // Close on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                    closeLightbox();
                }
            });
            
            // Navigation
            lightboxPrev.addEventListener('click', () => {
                navigateLightbox(-1);
            });
            
            lightboxNext.addEventListener('click', () => {
                navigateLightbox(1);
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'ArrowLeft') {
                    navigateLightbox(-1);
                } else if (e.key === 'ArrowRight') {
                    navigateLightbox(1);
                }
            });
        }

        function openLightbox(index) {
            currentImageIndex = index;
            lightboxImg.src = productData.images[index].main;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; // Re-enable scrolling
        }

        function navigateLightbox(direction) {
            let newIndex = currentImageIndex + direction;
            
            // Wrap around
            if (newIndex < 0) {
                newIndex = productData.images.length - 1;
            } else if (newIndex >= productData.images.length) {
                newIndex = 0;
            }
            
            currentImageIndex = newIndex;
            lightboxImg.src = productData.images[newIndex].main;
            
            // Add fade-in animation
            lightboxImg.classList.add('fade-in');
            setTimeout(() => {
                lightboxImg.classList.remove('fade-in');
            }, 300);
        }

        // ===== PRODUCT OPTIONS FUNCTIONS =====
        function initializeProductOptions() {
            // Select first options by default
            if (productData.sizes.length > 0) {
                selectSize(productData.sizes[0].id);
            }
            
            if (productData.colors.length > 0) {
                selectColor(productData.colors[0].id);
            }
            
            if (productData.finishes.length > 0) {
                selectFinish(productData.finishes[0].id);
            }
        }

        function createSizeOptions() {
            sizeOptions.innerHTML = '';
            
            productData.sizes.forEach(size => {
                const option = document.createElement('div');
                option.className = 'option-item';
                option.dataset.id = size.id;
                option.textContent = size.name;
                
                if (size.id === 1) option.classList.add('selected');
                
                option.addEventListener('click', () => {
                    selectSize(size.id);
                });
                
                sizeOptions.appendChild(option);
            });
        }

        function createColorOptions() {
            colorOptions.innerHTML = '';
            
            productData.colors.forEach(color => {
                const option = document.createElement('div');
                option.className = 'option-item color-option';
                option.dataset.id = color.id;
                option.style.backgroundColor = color.hex;
                option.title = color.name;
                
                if (color.id === 1) option.classList.add('selected');
                
                option.addEventListener('click', () => {
                    selectColor(color.id);
                });
                
                colorOptions.appendChild(option);
            });
        }

        function createFinishOptions() {
            finishOptions.innerHTML = '';
            
            productData.finishes.forEach(finish => {
                const option = document.createElement('div');
                option.className = 'option-item';
                option.dataset.id = finish.id;
                option.textContent = finish.name;
                
                if (finish.id === 1) option.classList.add('selected');
                
                option.addEventListener('click', () => {
                    selectFinish(finish.id);
                });
                
                finishOptions.appendChild(option);
            });
        }

        function selectSize(sizeId) {
            selectedSize = sizeId;
            
            // Update UI
            const sizeOptionsElements = document.querySelectorAll('#sizeOptions .option-item');
            sizeOptionsElements.forEach(option => {
                if (parseInt(option.dataset.id) === sizeId) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
            
            console.log('Selected size:', sizeId);
        }

        function selectColor(colorId) {
            selectedColor = colorId;
            
            // Update UI
            const colorOptionsElements = document.querySelectorAll('#colorOptions .option-item');
            colorOptionsElements.forEach(option => {
                if (parseInt(option.dataset.id) === colorId) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
            
            console.log('Selected color:', colorId);
        }

        function selectFinish(finishId) {
            selectedFinish = finishId;
            
            // Update UI
            const finishOptionsElements = document.querySelectorAll('#finishOptions .option-item');
            finishOptionsElements.forEach(option => {
                if (parseInt(option.dataset.id) === finishId) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
            
            console.log('Selected finish:', finishId);
        }

        // ===== SPECIFICATIONS TABLE =====
        function createSpecificationsTable() {
            specificationsTable.innerHTML = '';
            
            productData.specifications.forEach(spec => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${spec.key}</td>
                    <td>${spec.value}</td>
                `;
                specificationsTable.appendChild(row);
            });
        }

        // ===== QUANTITY CONTROLS =====
        function initializeQuantityControls() {
            // Set initial quantity
            quantity = 1;
            quantityInput.value = quantity;
            
            // Decrease quantity
            quantityDecrease.addEventListener('click', () => {
                if (quantity > 1) {
                    quantity--;
                    quantityInput.value = quantity;
                    updateTotalPrice();
                }
            });
            
            // Increase quantity
            quantityIncrease.addEventListener('click', () => {
                if (quantity < 100) {
                    quantity++;
                    quantityInput.value = quantity;
                    updateTotalPrice();
                }
            });
            
            // Manual input
            quantityInput.addEventListener('change', () => {
                let value = parseInt(quantityInput.value);
                
                if (isNaN(value) || value < 1) {
                    value = 1;
                } else if (value > 100) {
                    value = 100;
                }
                
                quantity = value;
                quantityInput.value = quantity;
                updateTotalPrice();
            });
        }

        function updateTotalPrice() {
            const total = (productData.price * quantity).toFixed(2);
            totalPrice.textContent = total;
        }

        // ===== ACTION BUTTONS =====
        function initializeActionButtons() {
            // Add to Cart
            addToCartBtn.addEventListener('click', () => {
                addToCart();
            });
            
            // Buy Now
            buyNowBtn.addEventListener('click', () => {
                buyNow();
            });
        }

        function addToCart() {
            const product = {
                id: productData.id,
                name: productData.name,
                price: productData.price,
                size: selectedSize,
                color: selectedColor,
                finish: selectedFinish,
                quantity: quantity,
                image: productData.images[0].thumb
            };
            
            console.log('Added to cart:', product);
            
            // Show confirmation
            const originalText = addToCartBtn.innerHTML;
            addToCartBtn.innerHTML = '<i class="fas fa-check"></i> Added to Cart!';
            addToCartBtn.style.background = '#28a745';
            
            setTimeout(() => {
                addToCartBtn.innerHTML = originalText;
                addToCartBtn.style.background = '';
            }, 2000);
            
            // In a real app, you would save to localStorage or send to server
            saveToCart(product);
        }

        function buyNow() {
            // First add to cart
            addToCart();
            
            // Then redirect to checkout (simulated)
            console.log('Proceeding to checkout...');
            
            // In a real app, you would redirect to checkout page
            // window.location.href = '/checkout';
        }

        function saveToCart(product) {
            // Get existing cart or create new one
            let cart = JSON.parse(localStorage.getItem('stonecraft_cart')) || [];
            
            // Check if product already in cart
            const existingIndex = cart.findIndex(item => 
                item.id === product.id && 
                item.size === product.size && 
                item.color === product.color && 
                item.finish === product.finish
            );
            
            if (existingIndex > -1) {
                // Update quantity
                cart[existingIndex].quantity += product.quantity;
            } else {
                // Add new item
                cart.push(product);
            }
            
            // Save to localStorage
            localStorage.setItem('stonecraft_cart', JSON.stringify(cart));
            
            // Update cart count in header if it exists
            updateCartCount(cart.length);
        }

        function updateCartCount(count) {
            // If there's a cart count element in the header, update it
            const cartCountElements = document.querySelectorAll('.cart-count');
            cartCountElements.forEach(element => {
                element.textContent = count;
            });
        }

        // ===== RELATED PRODUCTS SLIDER =====
        function initializeRelatedProducts() {
            createRelatedProductsSlider();
            initializeSliderControls();
        }

        function createRelatedProductsSlider() {
            relatedProductsSlider.innerHTML = '';
            
            productData.relatedProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'related-product-card';
                productCard.innerHTML = `
                    <a href="${product.link}" class="related-product-link">
                        <img src="${product.image}" alt="${product.name}" class="related-product-img">
                        <div class="related-product-info">
                            <h3 class="related-product-title">${product.name}</h3>
                            <div class="related-product-price">${productData.currency}${product.price}</div>
                        </div>
                    </a>
                `;
                
                relatedProductsSlider.appendChild(productCard);
            });
        }

        function initializeSliderControls() {
            let scrollPosition = 0;
            const scrollAmount = 300;
            
            sliderPrevBtn.addEventListener('click', () => {
                relatedProductsSlider.scrollLeft -= scrollAmount;
                updateSliderButtons();
            });
            
            sliderNextBtn.addEventListener('click', () => {
                relatedProductsSlider.scrollLeft += scrollAmount;
                updateSliderButtons();
            });
            
            // Update button states on scroll
            relatedProductsSlider.addEventListener('scroll', updateSliderButtons);
            
            // Initial button state
            updateSliderButtons();
        }

        function updateSliderButtons() {
            const scrollLeft = relatedProductsSlider.scrollLeft;
            const scrollWidth = relatedProductsSlider.scrollWidth;
            const clientWidth = relatedProductsSlider.clientWidth;
            
            sliderPrevBtn.disabled = scrollLeft <= 0;
            sliderNextBtn.disabled = scrollLeft + clientWidth >= scrollWidth - 10;
        }

        // Initialize action buttons
        initializeActionButtons();
        
        console.log('âœ… All product page functionality loaded!');
    </script>
</body>
</html>
