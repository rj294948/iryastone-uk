<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndianStoneCo | Premium Natural Stone from India to UK</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Compact Header -->
    <header class="compact-header">
        <div class="header-top">
            <div class="header-info">
                <span><i class="fas fa-phone-alt"></i> +44 1234 567890</span>
                <span><i class="fas fa-envelope"></i> info@indianstoneco.co.uk</span>
            </div>
            <div class="header-actions">
                <a href="login.html">My Account</a>
                <a href="wishlist.html">Wishlist</a>
                <a href="cart.html">Cart (<span id="header-cart-count">0</span>)</a>
            </div>
        </div>
        
        <!-- Main Navigation - Compact -->
        <nav class="main-nav">
            <div class="nav-brand">
                <i class="fas fa-gem"></i>
                <span>IndianStoneCo</span>
            </div>
            
            <div class="nav-menu">
                <a href="index.html" class="active">Home</a>
                <div class="dropdown">
                    <a href="products.html">Products <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="products.html?category=marble">Marble</a>
                        <a href="products.html?category=sandstone">Sandstone</a>
                        <a href="products.html?category=granite">Granite</a>
                        <a href="products.html?category=limestone">Limestone</a>
                    </div>
                </div>
                <a href="products.html?category=flooring">Flooring</a>
                <a href="products.html?category=wall-cladding">Wall Cladding</a>
                <a href="products.html?category=kitchen">Kitchen</a>
                <a href="products.html?category=bathroom">Bathroom</a>
                <a href="#shipping">Shipping</a>
            </div>
            
            <div class="nav-cta">
                <a href="checkout.html" class="btn-quote">Get Free Quote</a>
            </div>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <!-- Sliding Banner Section -->
    <section class="hero-banner">
        <div class="swiper banner-swiper">
            <div class="swiper-wrapper">
                <!-- Banner 1 -->
                <div class="swiper-slide banner-slide" style="background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1543857778-c4a1a569e388?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80');">
                    <div class="banner-content">
                        <h1 class="banner-title">Premium Italian Marble</h1>
                        <p class="banner-subtitle">Direct from India to UK Homes</p>
                        <p class="banner-desc">Luxury marble flooring & wall cladding with 20-year warranty</p>
                        <div class="banner-stats">
                            <div class="stat">
                                <i class="fas fa-truck"></i>
                                <span>Free UK Delivery</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-shield-alt"></i>
                                <span>VAT Included</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-pound-sign"></i>
                                <span>30/70 Payment</span>
                            </div>
                        </div>
                        <a href="products.html?category=marble" class="btn-banner">
                            <span>Explore Collection</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Banner 2 -->
                <div class="swiper-slide banner-slide" style="background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80');">
                    <div class="banner-content">
                        <h1 class="banner-title">Natural Sandstone</h1>
                        <p class="banner-subtitle">Authentic Rajasthan Stone</p>
                        <p class="banner-desc">Weather-resistant sandstone for outdoor & garden projects</p>
                        <div class="banner-stats">
                            <div class="stat">
                                <i class="fas fa-sun"></i>
                                <span>Weather Resistant</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-leaf"></i>
                                <span>Natural Finish</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-tags"></i>
                                <span>Best Price Guarantee</span>
                            </div>
                        </div>
                        <a href="products.html?category=sandstone" class="btn-banner">
                            <span>View Sandstone</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Banner 3 -->
                <div class="swiper-slide banner-slide" style="background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1481277542470-605612bd2d61?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80');">
                    <div class="banner-content">
                        <h1 class="banner-title">Granite Countertops</h1>
                        <p class="banner-subtitle">Kitchen & Bathroom Solutions</p>
                        <p class="banner-desc">Heat-resistant granite worktops with custom sizing</p>
                        <div class="banner-stats">
                            <div class="stat">
                                <i class="fas fa-fire"></i>
                                <span>Heat Resistant</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-ruler-combined"></i>
                                <span>Custom Sizing</span>
                            </div>
                            <div class="stat">
                                <i class="fas fa-clock"></i>
                                <span>21-Day Delivery</span>
                            </div>
                        </div>
                        <a href="products.html?category=kitchen" class="btn-banner">
                            <span>Shop Granite</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Banner Navigation -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-pagination"></div>
        </div>
        
        <!-- Trust Badges -->
        <div class="trust-badges">
            <div class="badge">
                <i class="fas fa-check-circle"></i>
                <span>100% Natural Stone</span>
            </div>
            <div class="badge">
                <i class="fas fa-ship"></i>
                <span>India to UK Direct</span>
            </div>
            <div class="badge">
                <i class="fas fa-pound-sign"></i>
                <span>No Hidden Charges</span>
            </div>
            <div class="badge">
                <i class="fas fa-award"></i>
                <span>Quality Certified</span>
            </div>
        </div>
    </section>

    <!-- Quick Categories -->
    <section class="quick-categories">
        <h2 class="section-title">Shop by Stone Type</h2>
        <p class="section-subtitle">Premium natural stone sourced directly from Indian quarries</p>
        
        <div class="category-grid-compact">
            <div class="cat-card" onclick="window.location='products.html?category=marble'">
                <div class="cat-icon">
                    <i class="fas fa-mountain"></i>
                </div>
                <div class="cat-content">
                    <h3>Marble</h3>
                    <p>Elegant flooring & wall cladding</p>
                    <span class="cat-price">From £35/m²</span>
                </div>
            </div>
            
            <div class="cat-card" onclick="window.location='products.html?category=sandstone'">
                <div class="cat-icon">
                    <i class="fas fa-sun"></i>
                </div>
                <div class="cat-content">
                    <h3>Sandstone</h3>
                    <p>Outdoor & garden paving</p>
                    <span class="cat-price">From £28/m²</span>
                </div>
            </div>
            
            <div class="cat-card" onclick="window.location='products.html?category=granite'">
                <div class="cat-icon">
                    <i class="fas fa-gem"></i>
                </div>
                <div class="cat-content">
                    <h3>Granite</h3>
                    <p>Countertops & work surfaces</p>
                    <span class="cat-price">From £42/m²</span>
                </div>
            </div>
            
            <div class="cat-card" onclick="window.location='products.html?category=limestone'">
                <div class="cat-icon">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="cat-content">
                    <h3>Limestone</h3>
                    <p>Traditional flooring stone</p>
                    <span class="cat-price">From £32/m²</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products - Space Optimized -->
    <section class="featured-products-compact">
        <div class="section-header-compact">
            <div>
                <h2 class="section-title">Best Selling Products</h2>
                <p class="section-subtitle">Most popular choices for UK homes</p>
            </div>
            <a href="products.html" class="btn-view-all">
                View All Products <i class="fas fa-arrow-right"></i>
            </a>
        </div>
        
        <div class="products-grid-compact" id="featured-products">
            <!-- Products will load here -->
        </div>
        
        <div class="view-more">
            <a href="products.html" class="btn-outline">
                <i class="fas fa-grid"></i> Browse Full Catalog
            </a>
        </div>
    </section>

    <!-- 30/70 Payment System - Visual -->
    <section class="payment-visual">
        <div class="payment-header">
            <h2>Simple 30/70 Payment Plan</h2>
            <p>Flexible payment options for UK customers</p>
        </div>
        
        <div class="payment-flow">
            <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <h4>Order & Pay 30%</h4>
                <p>Secure deposit payment</p>
                <div class="step-price">£450</div>
            </div>
            
            <div class="flow-arrow">
                <i class="fas fa-arrow-right"></i>
            </div>
            
            <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-icon">
                    <i class="fas fa-industry"></i>
                </div>
                <h4>Processing in India</h4>
                <p>Cutting & quality check</p>
                <div class="step-days">7-10 days</div>
            </div>
            
            <div class="flow-arrow">
                <i class="fas fa-arrow-right"></i>
            </div>
            
            <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-icon">
                    <i class="fas fa-pound-sign"></i>
                </div>
                <h4>Pay 70% Balance</h4>
                <p>Before shipping</p>
                <div class="step-price">£1,050</div>
            </div>
            
            <div class="flow-arrow">
                <i class="fas fa-arrow-right"></i>
            </div>
            
            <div class="flow-step">
                <div class="step-number">4</div>
                <div class="step-icon">
                    <i class="fas fa-home"></i>
                </div>
                <h4>UK Delivery</h4>
                <p>Direct to your location</p>
                <div class="step-days">10-14 days</div>
            </div>
        </div>
        
        <div class="payment-example">
            <div class="example-card">
                <h4>Example Order: £1,500</h4>
                <div class="example-breakdown">
                    <div class="breakdown-item">
                        <span>30% Deposit</span>
                        <span class="price">£450</span>
                    </div>
                    <div class="breakdown-item">
                        <span>70% Balance</span>
                        <span class="price">£1,050</span>
                    </div>
                    <div class="breakdown-total">
                        <span>Total Price</span>
                        <span class="price-total">£1,500</span>
                    </div>
                </div>
                <p class="example-note">* All prices include 20% UK VAT</p>
            </div>
        </div>
    </section>

    <!-- Why Choose Us -->
    <section class="benefits-section">
        <h2 class="section-title">Why Choose IndianStoneCo?</h2>
        
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-rupee-sign"></i>
                </div>
                <h4>Direct from India</h4>
                <p>No middlemen. Factory prices direct from Rajasthan quarries.</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <h4>UK-Wide Delivery</h4>
                <p>Doorstep delivery across United Kingdom with tracking.</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-clipboard-check"></i>
                </div>
                <h4>Quality Assurance</h4>
                <p>Each piece inspected before shipping. 100% natural stone.</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h4>UK Support Team</h4>
                <p>Local support with expert advice for your projects.</p>
            </div>
        </div>
    </section>

    <!-- Quick Quote Form -->
    <section class="quick-quote">
        <div class="quote-container">
            <div class="quote-content">
                <h2>Need a Custom Quote?</h2>
                <p>Get free expert advice and pricing for your project</p>
            </div>
            <div class="quote-form">
                <input type="email" placeholder="Your Email Address">
                <button class="btn-quote-submit">
                    <span>Get Free Quote</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Compact Footer -->
    <footer class="compact-footer">
        <div class="footer-main">
            <div class="footer-col">
                <h4>IndianStoneCo</h4>
                <p class="footer-desc">Premium natural stone from India to UK homes since 2010.</p>
                <div class="footer-social">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-pinterest-p"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-col">
                <h4>Quick Links</h4>
                <a href="products.html">All Products</a>
                <a href="products.html?category=marble">Marble Collection</a>
                <a href="products.html?category=sandstone">Sandstone</a>
                <a href="products.html?category=kitchen">Kitchen Stones</a>
            </div>
            
            <div class="footer-col">
                <h4>Information</h4>
                <a href="shipping.html">Shipping Info</a>
                <a href="returns.html">Returns Policy</a>
                <a href="#payment">Payment Options</a>
                <a href="#measure">Measurement Guide</a>
            </div>
            
            <div class="footer-col">
                <h4>Contact</h4>
                <p><i class="fas fa-phone"></i> +44 1234 567890</p>
                <p><i class="fas fa-envelope"></i> info@indianstoneco.co.uk</p>
                <p><i class="fas fa-map-marker-alt"></i> London Office</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>© 2024 IndianStoneCo. All prices include 20% UK VAT. </p>
            <div class="footer-payments">
                <i class="fab fa-cc-paypal" title="PayPal"></i>
                <i class="fab fa-cc-visa" title="Visa"></i>
                <i class="fab fa-cc-mastercard" title="MasterCard"></i>
                <i class="fab fa-cc-amex" title="American Express"></i>
                <i class="fas fa-university" title="Bank Transfer"></i>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script src="products.js"></script>
    <script src="cart.js"></script>
    <script src="utils.js"></script>
    <script>
        // Initialize Swiper Banner
        const swiper = new Swiper('.banner-swiper', {
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
        });

        // Mobile Menu Toggle
        document.querySelector('.mobile-menu-btn').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
        });

        // Load featured products
        document.addEventListener('DOMContentLoaded', function() {
            loadFeaturedProductsCompact();
            updateCartCount();
            
            // Update header cart count
            const headerCartCount = document.getElementById('header-cart-count');
            if (headerCartCount) {
                updateHeaderCartCount();
            }
        });

        async function updateHeaderCartCount() {
            if (!currentUser) {
                document.getElementById('header-cart-count').textContent = '0';
                return;
            }

            try {
                const snapshot = await cartCollection
                    .where('userId', '==', currentUser.uid)
                    .get();
                
                document.getElementById('header-cart-count').textContent = snapshot.size;
            } catch (error) {
                console.error('Error updating cart count:', error);
            }
        }

        // Load compact featured products
        async function loadFeaturedProductsCompact() {
            const container = document.getElementById('featured-products');
            if (!container) return;

            container.innerHTML = '<div class="loading"><div class="spinner"></div></div>';

            try {
                const snapshot = await productsCollection
                    .where('featured', '==', true)
                    .limit(6)
                    .get();

                if (snapshot.empty) {
                    container.innerHTML = '<p class="no-products">No featured products found</p>';
                    return;
                }

                container.innerHTML = '';
                snapshot.forEach(doc => {
                    const product = { id: doc.id, ...doc.data() };
                    container.appendChild(createProductCardCompact(product));
                });
            } catch (error) {
                console.error('Error loading products:', error);
                container.innerHTML = '<p class="error">Failed to load products</p>';
            }
        }

        function createProductCardCompact(product) {
            const card = document.createElement('div');
            card.className = 'product-card-compact';
            card.innerHTML = `
                <div class="product-img-compact" onclick="viewProduct('${product.id}')">
                    ${product.image ? 
                        `<img src="${product.image}" alt="${product.name}" loading="lazy">` : 
                        `<div class="img-placeholder"><i class="fas fa-mountain"></i></div>`}
                    ${product.stock < 10 ? '<span class="stock-badge">Low Stock</span>' : ''}
                </div>
                <div class="product-info-compact">
                    <h4 class="product-title">${product.name}</h4>
                    <p class="product-category">${product.category}</p>
                    <div class="product-price-compact">
                        <span class="current-price">£${product.priceGBP}</span>
                        <span class="price-unit">/m²</span>
                    </div>
                    <div class="product-actions-compact">
                        <button class="btn-action" onclick="viewProduct('${product.id}')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-action" onclick="addToCart('${product.id}')">
                            <i class="fas fa-cart-plus"></i>
                        </button>
                        <button class="btn-action" onclick="addToWishlist('${product.id}')">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                </div>
            `;
            return card;
        }

        function addToWishlist(productId) {
            if (!currentUser) {
                showNotification('Please login to add to wishlist', 'info');
                window.location.href = 'login.html';
                return;
            }
            showNotification('Added to wishlist', 'success');
            // Implement wishlist functionality
        }
    </script>
</body>
</html>
